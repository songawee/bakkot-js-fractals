<html> <head>  <script type="application/x-javascript">  var canvas;var ctx;//***var vari;var cScale;var dScale;var accuracy;var varic;var varid;var cMin = -2var cMax = .6var dMin = -1.2var dMax = 1.2var cDif;var dDif;var tform;function draw() {  tform = document.getElementById('tform');    canvas = document.getElementById("canvas");  canvas.onclick=zoom;  document.onkeypress=reset;  ctx = canvas.getContext("2d");  setVals();  getStarted();}function getStarted() {  tform.depth.value = vari;  tform.acc.value = accuracy;  tform.scale.value = cScale;  tform.xMin.value = cMin;  tform.xMax.value = cMax;  tform.yMin.value = dMin;  tform.yMax.value = dMax;  tform.depth.size = tform.depth.value.length;  tform.acc.size = tform.acc.value.length;  tform.scale.size = tform.scale.value.length;  tform.xMin.size = tform.xMin.value.length;  tform.xMax.size = tform.xMax.value.length;  tform.yMin.size = tform.yMin.value.length;  tform.yMax.size = tform.yMax.value.length;  cDif = cMax-cMin  dDif = dMax-dMin  varic = cDif/vari  varid = dDif/vari  dScale = cScale*(dDif/cDif);  canvas.width=cScale;  canvas.height=dScale;  for(c=cMin; c<cMax; c+=varic) {    for(d=dMin; d<dMax; d+=varid) {      x = c;      y = d;      maxiteration = accuracy;       for(iteration = 0; x*x + y*y < 4 && iteration < maxiteration; iteration++) {        xtemp = x*x - y*y + c;        y = 2*x*y + d;        x = xtemp;      }      if (iteration == maxiteration) {        ctx.fillRect(Math.ceil(cScale*((c-cMin)/cDif)), Math.ceil(dScale*((d-dMin)/dDif)), Math.ceil(cScale*(1/vari)), Math.ceil(dScale*(1/vari)));      }    }  }  ctx.strokeRect(0,0,cScale-1,dScale-1);}function setVals() {  vari = tform.depth.value*1;  accuracy = tform.acc.value*1;  cScale = tform.scale.value*1;  cMin = tform.xMin.value*1;  cMax = tform.xMax.value*1;  dMin = tform.yMin.value*1;  dMax = tform.yMax.value*1;}var gotOne = [];function zoom(event) {  if(!gotOne[0]) {    gotOne[0] = event.pageX-this.offsetLeft;    gotOne[1] = event.pageY-this.offsetTop;  }  else {    cMax = ((event.pageX-this.offsetLeft)*cDif)/cScale+cMin;    dMax = ((event.pageY-this.offsetTop)*dDif)/dScale+dMin;    cMin = (gotOne[0]*cDif)/cScale+cMin;    dMin = (gotOne[1]*dDif)/dScale+dMin;    //alert(cMin + "\n" + cMax);    getStarted();    gotOne = [];  }}var hided = false;function reset(e) {  if(String.fromCharCode(e.which)=="r") {    tform.depth.value = 150;    tform.acc.value = 40;    tform.scale.value = 600;    tform.xMin.value = -2;    tform.xMax.value = .6;    tform.yMin.value = -1.2;    tform.yMax.value = 1.2;    setVals();    getStarted();    gotOne = [];  }  else if(String.fromCharCode(e.which)=="h") {    if(hided) {      document.body.appendChild(hided);      hided = false;    }    else {      hided = document.body.removeChild(tform)    }  }  else if(String.fromCharCode(e.which)=="d") {  }} </script> </head> <body> 	A demonstration of the <a href="http://en.wikipedia.org/wiki/Mandlebrot_set">Mandlebrot set</a>. Click 'Draw' to render. 	<br><br><br>   <canvas id="canvas" width="1" height="1"></canvas><br><br>   <form id="tform">   Resolution: <input type="text" size=3 name="depth" value=300>   Accuracy: <input type="text" size=2 name="acc" value=100>   Scale: <input type="text" size=3 name="scale" value=600><br>   Higher values for these will take longer to calculate.<br><br>      Bounded area:<br>   xMin: <input type="text" size=4 id="xMin" value=-2>   xMax: <input type="text" size=4 id="xMax" value=0.6><br>   yMin: <input type="text" size=4 id="yMin" value=-1.2>   yMax: <input type="text" size=4 id="yMax" value=1.2><br><br>   <input type="button" onclick="draw()" value="Draw"><br><br>   Click on the top left and bottom right corners of a box within the canvas to zoom in on that area. Repeatable indefinitely.<br>   Hit "r" to reset all values and redraw.<br>   Hit "h" to hide or show this form.<br>   </form> </body></html>